// questions.js 示例内容
    const ACCOUNT_TITLES = [
            "", // 空选项
            "現金", "当座預金", "普通預金", "小口現金",
            "受取手形", "売掛金", "クレジット売掛金", "電子記録債権",
            "貸付金", "手形貸付金", "未収入金", "仮払金", "立替金",
            "商品", "繰越商品", "消耗品", "建物", "備品", "車両運搬具", "土地",
            "支払手形", "買掛金", "電子記録債務", "借入金", "手形借入金", "未払金",
            "預り金", "前受金", "貸倒引当金", "減価償却累計額",
            "資本金", "引出金",
            "売上", "受取利息", "受取家賃", "雑収入",
            "仕入", "発送費", "給料", "支払家賃", "支払利息", 
            "消耗品費", "減価償却費", "貸倒引当金繰入", "水道光熱費", "旅費交通費",
            "通信費", "租税公課", "雑費"
    ];
// ==========================================
// 题库数据 (Question Bank)
// ==========================================

const QUESTIONS = [
    // ---------------------------------------------------------
    // Source: 3Q_1_sample3_question.pdf
    // ---------------------------------------------------------
    {
        id: 101,
        source: "3Q_1_sample3 (No.1)",
        text: "建物の賃貸借契約を解約し、契約時に支払っていた保証金(敷金) ¥240,000について、修繕費 ¥85,000 を差し引かれた残額が普通預金口座に振り込まれた。",
        explanation: "保証金(差入保証金)が返還されたため貸方に記入し、差し引かれた修繕費は借方に費用計上します。差額が入金額となります。",
        choices: ["建物", "支払地代", "修繕費", "普通預金", "支払家賃", "差入保証金"],
        correct: {
            debit: [
                { account: "普通預金", amount: 155000 },
                { account: "修繕費", amount: 85000 }
            ],
            credit: [{ account: "差入保証金", amount: 240000 }]
        }
    },
    {
        id: 102,
        source: "3Q_1_sample3 (No.2)",
        text: "かねて借方計上していた現金過不足 ¥7,800の原因を調査したところ、同額の手数料の受取りが二重記帳されていることが判明した。",
        explanation: "手数料受取(受取手数料)が二重に計上されていたため、貸方に計上されていた収益を取り消すために借方に記入し、相手科目は現金過不足で処理します。",
        choices: ["雑益", "雑損", "支払手数料", "現金過不足", "受取手数料", "現金"],
        correct: {
            debit: [{ account: "受取手数料", amount: 7800 }],
            credit: [{ account: "現金過不足", amount: 7800 }]
        }
    },
    {
        id: 103,
        source: "3Q_1_sample3 (No.3)",
        text: "得意先に対する売掛金(前期販売分)¥89,000が貸し倒れた。なお、貸倒引当金の残高は ¥148,000である。",
        explanation: "前期販売分の売掛金の貸倒れであり、貸倒引当金の残高が十分にあるため、全額を貸倒引当金から充当します。",
        choices: ["売掛金", "貸倒引当金", "支払手数料", "償却債権取立益", "貸倒引当金繰入", "貸倒損失"],
        correct: {
            debit: [{ account: "貸倒引当金", amount: 89000 }],
            credit: [{ account: "売掛金", amount: 89000 }]
        }
    },
    {
        id: 104,
        source: "3Q_1_sample3 (No.4)",
        text: "普通預金口座から当座預金口座に ¥2,000,000を振り替えた。",
        explanation: "当座預金(資産)が増加し、普通預金(資産)が減少します。",
        choices: ["現金", "普通預金", "当座預金", "受取利息", "損益", "支払利息"],
        correct: {
            debit: [{ account: "当座預金", amount: 2000000 }],
            credit: [{ account: "普通預金", amount: 2000000 }]
        }
    },
    {
        id: 105,
        source: "3Q_1_sample3 (No.5)",
        text: "商品 ¥180,000を仕入れ、代金のうち¥30,000は注文時に支払った手付金と相殺し、残額は掛けとした。",
        explanation: "仕入(費用)を計上し、手付金(前払金)を減少させ、残額を買掛金(負債)とします。",
        choices: ["前払金", "仕入", "未払金", "仮払金", "前受金", "買掛金"],
        correct: {
            debit: [{ account: "仕入", amount: 180000 }],
            credit: [
                { account: "前払金", amount: 30000 },
                { account: "買掛金", amount: 150000 }
            ]
        }
    },
    {
        id: 106,
        source: "3Q_1_sample3 (No.6)",
        text: "株式会社の設立にあたり、株式4,000株を1株当たり ¥380で発行し、払込金額は普通預金とした。",
        explanation: "株式発行による払込金は資本金として処理します。4,000株 × ¥380 = ¥1,520,000。",
        choices: ["繰越利益剰余金", "未払配当金", "資本金", "普通預金", "利益準備金", "借入金"],
        correct: {
            debit: [{ account: "普通預金", amount: 1520000 }],
            credit: [{ account: "資本金", amount: 1520000 }]
        }
    },
    {
        id: 107,
        source: "3Q_1_sample3 (No.7)",
        text: "尾張株式会社に商品 ¥330,000を売り上げ、代金として同社振出しの約束手形を受け取った。",
        explanation: "商品の売上は貸方に、約束手形の受け取りは受取手形(資産)として借方に記入します。",
        choices: ["受取手数料", "売掛金", "受取手形", "支払手形", "売上", "貸付金"],
        correct: {
            debit: [{ account: "受取手形", amount: 330000 }],
            credit: [{ account: "売上", amount: 330000 }]
        }
    },
    {
        id: 108,
        source: "3Q_1_sample3 (No.8)",
        text: "得意先に対する売掛金 ¥600,000について、取引銀行から電子記録債権の発生記録の通知を受けた。",
        explanation: "売掛金が電子記録債権に振り替わりました。資産の種類が変わる処理です。",
        choices: ["電子記録債権", "売掛金", "電子記録債務", "受取利息", "受取手形", "未収入金"],
        correct: {
            debit: [{ account: "電子記録債権", amount: 600000 }],
            credit: [{ account: "売掛金", amount: 600000 }]
        }
    },
    {
        id: 109,
        source: "3Q_1_sample3 (No.9)",
        text: "商品 ¥120,000(本体価格)を仕入れ、代金は10%の消費税を含めて掛けとした。なお、消費税は税抜方式で処理する。",
        explanation: "税抜方式のため、本体価格を仕入、消費税分(¥12,000)を仮払消費税として処理します。",
        choices: ["仕入", "未払消費税", "仮受消費税", "売掛金", "仮払消費税", "買掛金"],
        correct: {
            debit: [
                { account: "仕入", amount: 120000 },
                { account: "仮払消費税", amount: 12000 }
            ],
            credit: [{ account: "買掛金", amount: 132000 }]
        }
    },
    {
        id: 110,
        source: "3Q_1_sample3 (No.10)",
        text: "かねて約束手形を受け取って姫路商事株式会社に貸し付けていた ¥2,000,000の満期日になり、同額が当座預金口座に振り込まれたので、約束手形を同社に返却した。",
        explanation: "手形貸付金の回収です。手形を返却(資産減少)し、当座預金(資産増加)となります。",
        choices: ["支払手形", "当座預金", "手形借入金", "売上", "手形貸付金", "受取手形"],
        correct: {
            debit: [{ account: "当座預金", amount: 2000000 }],
            credit: [{ account: "手形貸付金", amount: 2000000 }]
        }
    },
    {
        id: 111,
        source: "3Q_1_sample3 (No.11)",
        text: "社会保険料について、すでに源泉徴収した従業員負担分 ¥45,000と当社負担分 ¥45,000の合計額を普通預金口座から納付した。",
        explanation: "従業員負担分は社会保険料預り金の減少、会社負担分は法定福利費(費用)として処理します。",
        choices: ["社会保険料預り金", "所得税預り金", "住民税預り金", "従業員立替金", "法定福利費", "普通預金"],
        correct: {
            debit: [
                { account: "社会保険料預り金", amount: 45000 },
                { account: "法定福利費", amount: 45000 }
            ],
            credit: [{ account: "普通預金", amount: 90000 }]
        }
    },
    {
        id: 112,
        source: "3Q_1_sample3 (No.12)",
        text: "店舗を建てる目的で土地 ¥5,000,000を購入し、不動産会社への手数料¥150,000を含めた合計額を、小切手を振り出して支払った。",
        explanation: "土地の購入に伴う付随費用(手数料)は土地の取得原価に含めます。小切手の振出しは当座預金の減少です。",
        choices: ["建物", "支払手数料", "当座預金", "租税公課", "土地", "支払家賃"],
        correct: {
            debit: [{ account: "土地", amount: 5150000 }],
            credit: [{ account: "当座預金", amount: 5150000 }]
        }
    },
    {
        id: 113,
        source: "3Q_1_sample3 (No.13)",
        text: "当期首に、5年前の期首に取得した備品(取得原価¥900,000、耐用年数6年、残存価額ゼロ)を¥21,000で売却し、代金は月末に受け取ることとした。なお、この備品は定額法で減価償却を行い、間接法で記帳している。",
        explanation: "減価償却累計額の計算: ¥900,000÷6年×5年 = ¥750,000。帳簿価額 ¥150,000を¥21,000で売却したため、差額は売却損となります。",
        choices: ["未収入金", "備品", "普通預金", "固定資産売却益", "固定資産売却損", "備品減価償却累計額"],
        correct: {
            debit: [
                { account: "未収入金", amount: 21000 },
                { account: "備品減価償却累計額", amount: 750000 },
                { account: "固定資産売却損", amount: 129000 }
            ],
            credit: [{ account: "備品", amount: 900000 }]
        }
    },
    {
        id: 114,
        source: "3Q_1_sample3 (No.14)",
        text: "本日(期首)、前期末に費用勘定から貯蔵品勘定に振り替えた郵便切手 ¥2,900と収入印紙 ¥18,000について、適切な勘定科目に振り戻した。",
        explanation: "期首の再振替仕訳です。貯蔵品から元の費用科目(通信費、租税公課)に戻します。",
        choices: ["通信費", "広告宣伝費", "諸会費", "貯蔵品", "雑損", "租税公課"],
        correct: {
            debit: [
                { account: "通信費", amount: 2900 },
                { account: "租税公課", amount: 18000 }
            ],
            credit: [{ account: "貯蔵品", amount: 20900 }]
        }
    },
    {
        id: 115,
        source: "3Q_1_sample3 (No.15)",
        text: "店頭における一日分の売上の仕訳を行うにあたり、集計結果は次の売上集計表のとおりであった。合計額のうち ¥33,400は現金決済、残額(¥56,000)はクレジットカード決済であった。なお、クレジットカード決済額の3%を手数料として計上し、クレジットカード会社に対する債権から控除する。",
        explanation: "クレジット売上: ¥56,000。手数料: ¥56,000×3% = ¥1,680。クレジット売掛金: ¥54,320。",
        choices: ["受取手数料", "売上", "クレジット売掛金", "支払手数料", "買掛金", "現金"],
        correct: {
            debit: [
                { account: "現金", amount: 33400 },
                { account: "クレジット売掛金", amount: 54320 },
                { account: "支払手数料", amount: 1680 }
            ],
            credit: [{ account: "売上", amount: 89400 }]
        }
    },

    // ---------------------------------------------------------
    // Source: 3級_第1問_サンプル1_問題.pdf
    // ---------------------------------------------------------
    {
        id: 201,
        source: "3級_第1問_サンプル1 (No.1)",
        text: "従業員の給料 ¥550,000を支給するにあたって、所得税の源泉徴収額 ¥27,500と社会保険料¥50,000を差し引き、残額を普通預金口座から支払った。",
        explanation: "給料総額を借方に、控除した税金と社会保険料は預り金として貸方に計上します。",
        choices: ["従業員立替金", "普通預金", "法定福利費", "所得税預り金", "社会保険料預り金", "給料"],
        correct: {
            debit: [{ account: "給料", amount: 550000 }],
            credit: [
                { account: "所得税預り金", amount: 27500 },
                { account: "社会保険料預り金", amount: 50000 },
                { account: "普通預金", amount: 472500 }
            ]
        }
    },
    {
        id: 202,
        source: "3級_第1問_サンプル1 (No.2)",
        text: "収入印紙 ¥2,700と郵便切手¥450を現金で購入した。なお、これらはすぐに使用した。",
        explanation: "収入印紙は租税公課、郵便切手は通信費として処理します。",
        choices: ["当座預金", "通信費", "租税公課", "仮払消費税", "現金", "支払手数料"],
        correct: {
            debit: [
                { account: "租税公課", amount: 2700 },
                { account: "通信費", amount: 450 }
            ],
            credit: [{ account: "現金", amount: 3150 }]
        }
    },
    {
        id: 203,
        source: "3級_第1問_サンプル1 (No.3)",
        text: "電子記録債務 ¥720,000が決済され、当座預金口座から引き落とされた。",
        explanation: "電子記録債務(負債)の減少を借方に、当座預金(資産)の減少を貸方に記入します。",
        choices: ["電子記録債権", "当座預金", "普通預金", "電子記録債務", "支払手形", "買掛金"],
        correct: {
            debit: [{ account: "電子記録債務", amount: 720000 }],
            credit: [{ account: "当座預金", amount: 720000 }]
        }
    },
    {
        id: 204,
        source: "3級_第1問_サンプル1 (No.4)",
        text: "期首に、不用になった備品(取得原価¥490,000、減価償却累計額¥428,750、間接法で記帳)を¥70,000で売却し、代金は月末に受け取ることとした。",
        explanation: "帳簿価額(¥490,000 - ¥428,750 = ¥61,250)と売却額(¥70,000)の差額は売却益となります。",
        choices: ["備品減価償却累計額", "備品", "固定資産売却損", "未収入金", "固定資産売却益", "現金"],
        correct: {
            debit: [
                { account: "未収入金", amount: 70000 },
                { account: "備品減価償却累計額", amount: 428750 }
            ],
            credit: [
                { account: "備品", amount: 490000 },
                { account: "固定資産売却益", amount: 8750 }
            ]
        }
    },
    {
        id: 205,
        source: "3級_第1問_サンプル1 (No.5)",
        text: "前期末に未回収であった売掛金 ¥280,000 が貸倒れとなった。なお、貸倒引当金の残高は ¥190,000 あった。",
        explanation: "貸倒引当金の残高が不足しているため、不足分(¥90,000)を貸倒損失として計上します。",
        choices: ["売掛金", "貸倒損失", "貸倒引当金繰入", "償却債権取立益", "貸倒引当金", "雑損"],
        correct: {
            debit: [
                { account: "貸倒引当金", amount: 190000 },
                { account: "貸倒損失", amount: 90000 }
            ],
            credit: [{ account: "売掛金", amount: 280000 }]
        }
    },
    {
        id: 206,
        source: "3級_第1問_サンプル1 (No.6)",
        text: "商品¥210,000を売り上げ、代金のうち ¥60,000は現金で受け取り、残額は共通商品券で受け取った。",
        explanation: "他店発行の商品券を受け取った場合は「受取商品券」勘定を使用します。",
        choices: ["受取商品券", "現金", "受取手数料", "クレジット売掛金", "売掛金", "売上"],
        correct: {
            debit: [
                { account: "現金", amount: 60000 },
                { account: "受取商品券", amount: 150000 }
            ],
            credit: [{ account: "売上", amount: 210000 }]
        }
    },
    {
        id: 207,
        source: "3級_第1問_サンプル1 (No.7)",
        text: "買掛金 ¥200,000を当座預金口座から返済した。ただし、返済前の当座預金残高は¥175,000であり、当社は銀行と借越限度額 ¥1,000,000の当座借越契約を締結している。",
        explanation: "当座預金の残高を超える支払いは「当座借越」となりますが、3級では一括して「当座預金」勘定のマイナス(貸方残)として処理するのが一般的です。",
        choices: ["現金", "普通預金", "当座預金", "買掛金", "売掛金", "雑費"],
        correct: {
            debit: [{ account: "買掛金", amount: 200000 }],
            credit: [{ account: "当座預金", amount: 200000 }]
        }
    },
    {
        id: 208,
        source: "3級_第1問_サンプル1 (No.8)",
        text: "従業員が出張から帰社し、旅費交通費として使うよう手渡していた ¥100,000のうち、残った ¥9,500を従業員から現金で受け取った。",
        explanation: "概算払いしていた仮払金を精算します。使用額(¥90,500)を旅費交通費とし、残金を現金に戻します。",
        choices: ["旅費交通費", "仮受金", "従業員立替金", "現金", "仮払金", "前払金"],
        correct: {
            debit: [
                { account: "旅費交通費", amount: 90500 },
                { account: "現金", amount: 9500 }
            ],
            credit: [{ account: "仮払金", amount: 100000 }]
        }
    },
    {
        id: 209,
        source: "3級_第1問_サンプル1 (No.9)",
        text: "日商商事株式会社に商品 ¥740,000を売り上げ、代金として同社振出しの約束手形 ¥500,000を受け取り、残額は掛けとした。",
        explanation: "手形受取分は受取手形、残額は売掛金として処理します。",
        choices: ["支払手形", "売掛金", "売上", "受取手形", "買掛金", "当座預金"],
        correct: {
            debit: [
                { account: "受取手形", amount: 500000 },
                { account: "売掛金", amount: 240000 }
            ],
            credit: [{ account: "売上", amount: 740000 }]
        }
    },
    {
        id: 210,
        source: "3級_第1問_サンプル1 (No.10)",
        text: "商品 ¥979,000(消費税10%を含む)を仕入れ、代金のうち ¥100,000は小切手を振り出して支払い、残額は掛けとした。消費税は税抜方式で処理する。",
        explanation: "税抜方式: 本体価格 ¥890,000を仕入、消費税 ¥89,000を仮払消費税とします。",
        choices: ["買掛金", "仮払消費税", "仕入", "当座預金", "仮受消費税", "売掛金"],
        correct: {
            debit: [
                { account: "仕入", amount: 890000 },
                { account: "仮払消費税", amount: 89000 }
            ],
            credit: [
                { account: "当座預金", amount: 100000 },
                { account: "買掛金", amount: 879000 }
            ]
        }
    },
    {
        id: 211,
        source: "3級_第1問_サンプル1 (No.11)",
        text: "銀行から ¥5,000,000を借り入れ、同額の約束手形を振り出すとともに、利息(¥100,000と仮定)を差し引かれた手取金を当座預金とした。",
        explanation: "手形を用いて借り入れた場合は手形借入金となります。利息は先引きされています。",
        // Note: The exact interest calculation text was cut off in snippet, logic assumes interest is deducted.
        // Text says: "利息を差し引かれた手取金を... 年利率2.4% 10ヶ月". Interest = 5m * 0.024 * 10/12 = 100,000.
        choices: ["受取利息", "手形借入金", "手形貸付金", "支払手形", "当座預金", "支払利息"],
        correct: {
            debit: [
                { account: "当座預金", amount: 4900000 },
                { account: "支払利息", amount: 100000 }
            ],
            credit: [{ account: "手形借入金", amount: 5000000 }]
        }
    },
    {
        id: 212,
        source: "3級_第1問_サンプル1 (No.12)",
        text: "北日本株式会社は増資を行い、株式7,000株を1株当たり ¥900で発行し、株主からの払込金は普通預金口座に振り込まれた。",
        explanation: "全額を資本金とします。7,000株 × ¥900 = ¥6,300,000。",
        choices: ["資本金", "利益準備金", "普通預金", "広告宣伝費", "当座預金", "繰越利益剰余金"],
        correct: {
            debit: [{ account: "普通預金", amount: 6300000 }],
            credit: [{ account: "資本金", amount: 6300000 }]
        }
    },
    {
        id: 213,
        source: "3級_第1問_サンプル1 (No.13)",
        text: "営業の用に供している建物の改修と修繕を行い、代金¥4,500,000は月末に支払うこととした。代金のうち¥2,800,000 は収益的支出(修繕)に、残額は資本的支出(改良)に該当する。",
        explanation: "収益的支出は「修繕費」、資本的支出は「建物」の価値増加として処理します。代金は未払い。",
        choices: ["修繕費", "損益", "未収入金", "建物", "資本金", "未払金"],
        correct: {
            debit: [
                { account: "修繕費", amount: 2800000 },
                { account: "建物", amount: 1700000 }
            ],
            credit: [{ account: "未払金", amount: 4500000 }]
        }
    },
    {
        id: 214,
        source: "3級_第1問_サンプル1 (No.14)",
        text: "事務所の賃貸借契約を結び、家賃6か月分 (1か月 ¥250,000)、手数料¥250,000、敷金¥300,000 を、小切手を振り出して支払った。",
        explanation: "家賃(前払分含むがここでは支払家賃とする場合が多い、または前払家賃だが選択肢による。選択肢に前払金ありだが支払家賃が妥当)、手数料、敷金(差入保証金)の合算。",
        choices: ["支払手数料", "当座預金", "前払金", "差入保証金", "支払家賃", "受取手数料"],
        correct: {
            debit: [
                { account: "支払家賃", amount: 1500000 },
                { account: "支払手数料", amount: 250000 },
                { account: "差入保証金", amount: 300000 }
            ],
            credit: [{ account: "当座預金", amount: 2050000 }]
        }
    },
    {
        id: 215,
        source: "3級_第1問_サンプル1 (No.15)",
        text: "西日本株式会社に商品を売り上げ、品物とともに次の納品書兼請求書を発送し、代金は掛けとした。請求金額 ¥77,220 (うち消費税 ¥7,020)。税抜方式。",
        explanation: "税抜方式のため、売上は¥70,200、仮受消費税は¥7,020です。",
        choices: ["売掛金", "仕入", "買掛金", "売上", "仮受消費税", "仮払消費税"],
        correct: {
            debit: [{ account: "売掛金", amount: 77220 }],
            credit: [
                { account: "売上", amount: 70200 },
                { account: "仮受消費税", amount: 7020 }
            ]
        }
    },

    // ---------------------------------------------------------
    // Source: 3級_第1問_サンプル2_問題.pdf
    // ---------------------------------------------------------
    {
        id: 301,
        source: "3級_第1問_サンプル2 (No.1)",
        text: "かねて約束手形を振り出して借り入れていた ¥2,000,000の満期日になり、同額が当座預金口座から引き落とされるとともに、約束手形の返却を受けた。",
        explanation: "手形借入金の返済です。",
        choices: ["支払利息", "当座預金", "手形貸付金", "受取手形", "手形借入金", "支払手形"],
        correct: {
            debit: [{ account: "手形借入金", amount: 2000000 }],
            credit: [{ account: "当座預金", amount: 2000000 }]
        }
    },
    {
        id: 302,
        source: "3級_第1問_サンプル2 (No.2)",
        text: "土地付き建物 (土地 ¥5,000,000、建物 ¥7,500,000) を購入し、代金とともに不動産会社への手数料(それぞれ3%) および印紙税(¥20,000) も含めて普通預金口座から振り込んだ。印紙税は費用処理する。",
        explanation: "付随費用(手数料)は取得原価に含めます。土地: 500万×1.03=515万、建物: 750万×1.03=772.5万。",
        choices: ["普通預金", "支払手数料", "土地", "建物", "租税公課", "貯蔵品"],
        correct: {
            debit: [
                { account: "土地", amount: 5150000 },
                { account: "建物", amount: 7725000 },
                { account: "租税公課", amount: 20000 }
            ],
            credit: [{ account: "普通預金", amount: 12895000 }]
        }
    },
    {
        id: 306,
        source: "3級_第1問_サンプル2 (No.6)",
        text: "日商銀行の普通預金口座から ¥500,000および東商銀行の普通預金口座から ¥350,000を日商銀行の当座預金口座へ振り込んだ。その際に手数料 ¥300が東商銀行の普通預金口座から差し引かれた。",
        explanation: "口座間移動と手数料の支払いです。",
        choices: ["日商銀行普通預金", "日商銀行当座預金", "東商銀行当座預金", "支払手数料", "東商銀行普通預金", "受取手数料"],
        correct: {
            debit: [
                { account: "日商銀行当座預金", amount: 850000 },
                { account: "支払手数料", amount: 300 }
            ],
            credit: [
                { account: "日商銀行普通預金", amount: 500000 },
                { account: "東商銀行普通預金", amount: 350300 }
            ]
        }
    },
    {
        id: 309,
        source: "3級_第1問_サンプル2 (No.9)",
        text: "電子記録債権 ¥750,000が決済され、同額が当座預金口座に振り込まれた。",
        explanation: "電子記録債権の回収です。",
        choices: ["電子記録債権", "電子記録債務", "売掛金", "当座預金", "買掛金", "受取手形"],
        correct: {
            debit: [{ account: "当座預金", amount: 750000 }],
            credit: [{ account: "電子記録債権", amount: 750000 }]
        }
    },
    {
        id: 312,
        source: "3級_第1問_サンプル2 (No.12)",
        text: "売掛金 ¥450,000 (うち前期販売分 ¥200,000、当期販売分 ¥250,000) が貸し倒れた。なお、貸倒引当金の残高は ¥180,000である。",
        explanation: "前期分は引当金から充当(足りない分は貸倒損失)、当期分は全額貸倒損失。",
        // 前期分200,000に対して引当金180,000充当 -> 残り20,000貸倒損失。
        // 当期分250,000は全額貸倒損失。合計損失 = 270,000。
        choices: ["貸倒損失", "貸倒引当金繰入", "売掛金", "償却債権取立益", "貸倒引当金", "貸倒引当金戻入"],
        correct: {
            debit: [
                { account: "貸倒引当金", amount: 180000 },
                { account: "貸倒損失", amount: 270000 }
            ],
            credit: [{ account: "売掛金", amount: 450000 }]
        }
    },
    {
        id: 313,
        source: "3級_第1問_サンプル2 (No.13)",
        text: "現金の帳簿残高は ¥35,000、実際有高は¥32,000であった。不一致の原因を調査したところ、消耗品費の支払い ¥2,000が記帳漏れとなっていることが判明したが、残額については期末決算まで継続して調査することにした。",
        explanation: "実際が少ない(不足)。まず消耗品費を計上し、残りの不明差額¥1,000は雑損または現金過不足のままですが、ここでは「継続して調査」とあるため、現金過不足勘定で処理します。",
        choices: ["雑損", "雑益", "消耗品費", "未払金", "現金過不足", "現金"],
        correct: {
            debit: [
                { account: "消耗品費", amount: 2000 },
                { account: "現金過不足", amount: 1000 }
            ],
            credit: [{ account: "現金", amount: 3000 }]
        }
    },

    // ---------------------------------------------------------
    // Source: 3級_第1問_問題.pdf
    // ---------------------------------------------------------
    {
        id: 401,
        source: "3級_第1問_問題 (No.1)",
        text: "かねて借方計上されていた現金過不足 ¥5,000の原因を調査したところ、同額の手数料の受取りが二重記帳されていることが判明した。",
        explanation: "借方の現金過不足(現金不足)の原因が、収益(受取手数料)の二重計上(架空の収益)だったため、収益を取り消します。",
        choices: ["雑益", "現金過不足", "受取手数料", "支払手数料", "現金", "雑損"],
        correct: {
            debit: [{ account: "受取手数料", amount: 5000 }],
            credit: [{ account: "現金過不足", amount: 5000 }]
        }
    },
    {
        id: 402,
        source: "3級_第1問_問題 (No.2)",
        text: "郵便局で、郵便切手 ¥400を現金で購入するとともに、店舗の固定資産税 ¥32,000を現金で納付した。なお、郵便切手はすぐに使用した。",
        explanation: "切手は通信費、固定資産税は租税公課。",
        choices: ["受取手形", "支払手数料", "現金", "支払家賃", "通信費", "租税公課"],
        correct: {
            debit: [
                { account: "通信費", amount: 400 },
                { account: "租税公課", amount: 32000 }
            ],
            credit: [{ account: "現金", amount: 32400 }]
        }
    },
    {
        id: 403,
        source: "3級_第1問_問題 (No.3)",
        text: "商品 ¥180,000を仕入れ、代金のうち ¥30,000は注文時に支払った手付金と相殺し、残額は掛けとした。なお、当社負担の引取運賃 ¥2,000は現金で支払った。",
        explanation: "運賃(付随費用)は仕入原価に含めます。総仕入高 = 182,000。",
        choices: ["仕入", "前払金", "買掛金", "現金", "前受金", "仮払金"],
        correct: {
            debit: [{ account: "仕入", amount: 182000 }],
            credit: [
                { account: "前払金", amount: 30000 },
                { account: "買掛金", amount: 150000 },
                { account: "現金", amount: 2000 }
            ]
        }
    },
    {
        id: 406,
        source: "3級_第1問_問題 (No.6)",
        text: "銀行から借り入れていた借入金 ¥800,000の返済日になったため、元利合計を普通預金口座から返済した。なお、借入れの年利率は1.8%、借入期間は当期中の9か月間であり、利息は月割計算する。",
        explanation: "利息: 800,000 × 1.8% × 9/12 = 10,800。",
        choices: ["支払利息", "借入金", "支払手数料", "貸付金", "受取利息", "普通預金"],
        correct: {
            debit: [
                { account: "借入金", amount: 800000 },
                { account: "支払利息", amount: 10800 }
            ],
            credit: [{ account: "普通預金", amount: 810800 }]
        }
    },
    {
        id: 411,
        source: "3級_第1問_問題 (No.11)",
        text: "当期首に、3年前の期首に取得した備品(取得原価 ¥800,000、耐用年数4年、残存価額ゼロ)を¥53,000で売却し、代金は月末に受け取ることとした。定額法・間接法。",
        explanation: "減価償却累計額: 800,000 ÷ 4 × 3 = 600,000。帳簿価額 200,000。売却額 53,000。売却損 147,000。",
        choices: ["普通預金", "未収入金", "備品", "固定資産売却益", "固定資産売却損", "備品減価償却累計額"],
        correct: {
            debit: [
                { account: "未収入金", amount: 53000 },
                { account: "備品減価償却累計額", amount: 600000 },
                { account: "固定資産売却損", amount: 147000 }
            ],
            credit: [{ account: "備品", amount: 800000 }]
        }
    },
    {
        id: 412,
        source: "3級_第1問_問題 (No.12)",
        text: "前期において貸倒れ処理した売掛金 ¥390,000のうち ¥156,000を現金で回収した。",
        explanation: "前期以前に貸倒処理した債権を回収した場合は「償却債権取立益」で処理します。",
        choices: ["受取手数料", "現金", "償却債権取立益", "貸倒引当金繰入", "普通預金", "売掛金"],
        correct: {
            debit: [{ account: "現金", amount: 156000 }],
            credit: [{ account: "償却債権取立益", amount: 156000 }]
        }
    },
    {
        id: 415,
        source: "3級_第1問_問題 (No.15)",
        text: "コピー機を購入し、ただちに下記の請求書に示されている合計額を普通預金口座から支払った。なお、当社では、単価¥100,000以上の物品は備品として処理している。(コピー機¥358,000、作業費¥4,000、配送料¥5,000)",
        explanation: "付随費用も含めて備品の取得原価とします。合計 ¥367,000。",
        choices: ["普通預金", "当座預金", "未収入金", "発送費", "備品", "前払金"],
        correct: {
            debit: [{ account: "備品", amount: 367000 }],
            credit: [{ account: "普通預金", amount: 367000 }]
        }
    }
];

// ----------------------------------------------
// アカウントタイトル マスタ (予備)
// ----------------------------------------------
const DEFAULT_ACCOUNT_TITLES = [
    "", "現金", "当座預金", "普通預金", "受取手形", "売掛金", "クレジット売掛金", 
    "電子記録債権", "繰越商品", "消耗品", "建物", "備品", "土地", "のれん", 
    "支払手形", "買掛金", "電子記録債務", "借入金", "未払金", "前受金", 
    "預り金", "貸倒引当金", "減価償却累計額", 
    "資本金", "利益準備金", "繰越利益剰余金",
    "売上", "受取利息", "受取手数料", "償却債権取立益", "固定資産売却益", "雑益",
    "仕入", "給料", "旅費交通費", "通信費", "水道光熱費", "広告宣伝費", 
    "消耗品費", "修繕費", "支払地代", "支払家賃", "支払手数料", "租税公課", 
    "支払利息", "貸倒引当金繰入", "貸倒損失", "固定資産売却損", "雑損",
    "仮払消費税", "仮受消費税", "現金過不足", "貯蔵品", "法人税等"
];